{"version":3,"file":"static/js/261.9631053f.chunk.js","mappings":"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","sources":["api/users.js","webpack://update-skills/./src/components/TweetCard/TweetCard.module.scss?487b","components/TweetCard/TweetCard.jsx","webpack://update-skills/./src/components/TweetList/TweetList.module.scss?6e6b","components/TweetList/TweetList.jsx","webpack://update-skills/./src/pages/TweetsPage/TweetsPage.module.scss?c243","pages/TweetsPage/TweetsPage.jsx"],"sourcesContent":["import axios from 'axios';\n\n// axios.defaults.baseURL = 'http://localhost:4000/api/';\naxios.defaults.baseURL = 'https://json-server-qp0p.onrender.com/api/';\n\nexport const axiosGetUsers = async () => {\n  const { data } = await axios.get('/users');\n  return data;\n};\n\nexport const axiosUpdateFollowers = async (userData) => {\n  const { data } = await axios.put(`/users/${userData.id}`, userData);\n  return data;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"TweetCard_card__XCvhd\",\"img\":\"TweetCard_img__s3grz\",\"btn\":\"TweetCard_btn__RyUJa\",\"active\":\"TweetCard_active__vx05L\",\"imgWrapper\":\"TweetCard_imgWrapper__8KwP1\",\"ava\":\"TweetCard_ava__FgFw+\",\"info\":\"TweetCard_info__CGXmp\",\"folowers\":\"TweetCard_folowers__c0p7X\"};","import { useRef } from 'react';\nimport useLocalStorage from 'use-local-storage';\n\nimport { axiosUpdateFollowers } from 'api/users';\nimport Card from '../../images/card.png';\nimport Card2x from '../../images/card@2x.png';\n\nimport s from './TweetCard.module.scss';\n\nconst toggleClassName = (conditions) => {\n  return conditions ? `${s.btn} ${s.active}` : s.btn;\n};\n\nconst TweetCard = ({\n  name,\n  avatar,\n  followers,\n  tweets,\n  currentUser,\n  updateUsers,\n  setLoading,\n}) => {\n  const [following, setFollowing] = useLocalStorage(\n    `following_${currentUser.id}`,\n    false\n  );\n  const buttonRef = useRef(null);\n\n  const handleFormatingFollowers = (number) => {\n    return number.toLocaleString();\n  };\n\n  const handleBtnClick = () => {\n    if (!following) {\n      setLoading(true);\n      axiosUpdateFollowers({ ...currentUser, followers: currentUser.followers + 1 })\n        .then(() => updateUsers())\n        .catch((err) => console.log(err))\n        .finally(() => setLoading(false));\n    }\n\n    if (following) {\n      setLoading(true);\n      axiosUpdateFollowers({ ...currentUser, followers: currentUser.followers - 1 })\n        .then(() => updateUsers())\n        .catch((err) => console.log(err))\n        .finally(() => setLoading(false));\n    }\n\n    setFollowing(!following);\n    buttonRef.current.blur();\n  };\n\n  return (\n    <>\n      <li className={s.card}>\n        <picture>\n          <source srcSet={Card2x} media=\"(min-resolution: 2dppx)\" />\n          <img className={s.img} src={Card} alt=\"card chat\" />\n        </picture>\n        <div className={s.info}>\n          <div className={s.imgWrapper}>\n            <img height=\"62\" width=\"62\" className={s.ava} src={avatar} alt={name} />\n          </div>\n          <p className={s.tweets}>\n            <span className={s.number}>{tweets.toLocaleString()}</span> TWEETS\n          </p>\n          <p className={s.folowers}>\n            <span className={s.number}>{handleFormatingFollowers(followers)}</span>{' '}\n            FOLLOWERS\n          </p>\n          <button\n            onClick={handleBtnClick}\n            ref={buttonRef}\n            className={toggleClassName(following)}\n            type=\"button\"\n          >\n            {following ? 'Following' : 'Follow'}\n          </button>\n        </div>\n      </li>\n    </>\n  );\n};\n\nexport default TweetCard;\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"TweetList_list__7RDyA\",\"btn\":\"TweetList_btn__7Y3b1\"};","import { useEffect, useState } from 'react';\n\nimport { axiosGetUsers } from 'api/users';\nimport TweetCard from 'components/TweetCard/TweetCard';\nimport Loader from 'components/Loader/Loader';\n\nimport s from './TweetList.module.scss';\n\nconst TweetList = () => {\n  const [users, setUsers] = useState([]);\n  const [displayedUsers, setDisplayedUsers] = useState(12);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    axiosGetUsers().then((data) => setUsers(data));\n  }, []);\n\n  const updateUsers = async () => {\n    const result = await axiosGetUsers();\n    setUsers(result);\n  };\n\n  const loadMoreUsers = () => {\n    setDisplayedUsers((prevCount) => prevCount + 12);\n  };\n\n  return (\n    <>\n      {loading && <Loader />}\n      <ul className={s.list}>\n        {users.slice(0, displayedUsers).map((user) => (\n          <TweetCard\n            key={user.id}\n            name={user.user}\n            avatar={user.avatar}\n            followers={user.followers}\n            tweets={user.tweets}\n            currentUser={users[user.id - 1]}\n            updateUsers={updateUsers}\n            loading={loading}\n            setLoading={setLoading}\n          />\n        ))}\n      </ul>\n      {(users.length > displayedUsers || users.length !== displayedUsers) && (\n        <button type=\"button\" className={s.btn} onClick={loadMoreUsers}>\n          load more\n        </button>\n      )}\n    </>\n  );\n};\n\nexport default TweetList;\n","// extracted by mini-css-extract-plugin\nexport default {\"colorContainer\":\"TweetsPage_colorContainer__4IJcF\",\"container\":\"TweetsPage_container__Tqs0H\"};","import TweetList from 'components/TweetList/TweetList';\nimport s from './TweetsPage.module.scss';\n\nconst TweetsPage = () => {\n  return (\n    <div className={s.colorContainer}>\n      <div className={s.container}>\n        <TweetList />\n      </div>\n    </div>\n  );\n};\n\nexport default TweetsPage;\n"],"names":["axios","defaults","baseURL","axiosGetUsers","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$get","data","wrap","_context","prev","next","get","sent","abrupt","stop","apply","arguments","axiosUpdateFollowers","_ref2","_callee2","userData","_yield$axios$put","_context2","put","concat","id","_x","conditions","number","name","avatar","followers","tweets","currentUser","updateUsers","setLoading","_useLocalStorage","useLocalStorage","_useLocalStorage2","_slicedToArray","following","setFollowing","buttonRef","useRef","_jsx","_Fragment","children","_jsxs","className","s","card","srcSet","Card2x","media","img","src","Card","alt","info","imgWrapper","height","width","ava","toLocaleString","folowers","onClick","_objectSpread","then","catch","err","console","log","finally","current","blur","ref","btn","active","type","_useState","useState","_useState2","users","setUsers","_useState3","_useState4","displayedUsers","setDisplayedUsers","_useState5","_useState6","loading","useEffect","result","Loader","slice","map","user","TweetCard","length","prevCount","TweetList"],"sourceRoot":""}