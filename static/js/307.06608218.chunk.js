"use strict";(self.webpackChunkupdate_skills=self.webpackChunkupdate_skills||[]).push([[307],{293:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var r=t(165),a=t(861),s=t(439),c=t(791),l=t(243);l.Z.defaults.baseURL="https://json-server-qp0p.onrender.com/api/";var o=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var n,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.Z.get("/users");case 2:return n=e.sent,t=n.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.Z.put("/users/".concat(n.id),n);case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),i=t(413),f=t(477),d=t.n(f),p=t.p+"static/media/card.2cfaf72cf1b8694dd508.png",h=t.p+"static/media/card@2x.545b0e444f5568dade94.png",w={card:"TweetCard_card__XCvhd",img:"TweetCard_img__s3grz",btn:"TweetCard_btn__RyUJa",active:"TweetCard_active__vx05L",imgWrapper:"TweetCard_imgWrapper__8KwP1",ava:"TweetCard_ava__FgFw+",info:"TweetCard_info__CGXmp",folowers:"TweetCard_folowers__c0p7X"},_=t(184),m=function(e){var n,t,r=e.name,a=e.avatar,l=e.followers,o=e.tweets,f=e.currentUser,m=e.updateUsers,v=e.setLoading,g=d()("following_".concat(f.id),!1),x=(0,s.Z)(g,2),j=x[0],Z=x[1],b=(0,c.useRef)(null);return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("li",{className:w.card,children:[(0,_.jsxs)("picture",{children:[(0,_.jsx)("source",{srcSet:h,media:"(min-resolution: 2dppx)"}),(0,_.jsx)("img",{className:w.img,src:p,alt:"card chat"})]}),(0,_.jsxs)("div",{className:w.info,children:[(0,_.jsx)("div",{className:w.imgWrapper,children:(0,_.jsx)("img",{height:"62",width:"62",className:w.ava,src:a,alt:r})}),(0,_.jsxs)("p",{className:w.tweets,children:[(0,_.jsx)("span",{className:w.number,children:o.toLocaleString()})," TWEETS"]}),(0,_.jsxs)("p",{className:w.folowers,children:[(0,_.jsx)("span",{className:w.number,children:(t=l,t.toLocaleString())})," ","FOLLOWERS"]}),(0,_.jsx)("button",{onClick:function(){j||(v(!0),u((0,i.Z)((0,i.Z)({},f),{},{followers:f.followers+1})).then((function(){return m()})).catch((function(e){return console.log(e)})).finally((function(){return v(!1)}))),j&&(v(!0),u((0,i.Z)((0,i.Z)({},f),{},{followers:f.followers-1})).then((function(){return m()})).catch((function(e){return console.log(e)})).finally((function(){return v(!1)}))),Z(!j),b.current.blur()},ref:b,className:(n=j,n?"".concat(w.btn," ").concat(w.active):w.btn),type:"button",children:j?"Following":"Follow"})]})]})})},v=t(50),g=t(305),x="SelectStatus_select__93ZPh",j=function(e){var n=e.handleInputChange,t=e.options,r=e.value;return(0,_.jsx)(g.ZP,{options:t,className:x,onChange:n,value:r()})},Z="TweetList_list__7RDyA",b="TweetList_btn__7Y3b1",C=[{value:"show all",label:"Show all"},{value:"follow",label:"Follow"},{value:"followings",label:"Followings"}],N=function(){var e=(0,c.useState)([]),n=(0,s.Z)(e,2),t=n[0],l=n[1],u=(0,c.useState)("show all"),i=(0,s.Z)(u,2),f=i[0],d=i[1],p=(0,c.useState)(12),h=(0,s.Z)(p,2),w=h[0],g=h[1],x=(0,c.useState)(!1),N=(0,s.Z)(x,2),T=N[0],S=N[1];(0,c.useEffect)((function(){S(!0),o().then((function(e){return l(e)})).catch((function(e){return console.log(e)})).finally((function(){return S(!1)}))}),[]);var k=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:n=e.sent,l(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(j,{handleInputChange:function(e){d(e.value)},options:C,value:function(){return f?C.find((function(e){return e.value===f})):""}}),T&&(0,_.jsx)(v.Z,{}),(0,_.jsx)("ul",{className:Z,children:t.slice(0,w).map((function(e){return(0,_.jsx)(m,{name:e.user,avatar:e.avatar,followers:e.followers,tweets:e.tweets,currentUser:t[e.id-1],updateUsers:k,loading:T,setLoading:S},e.id)}))}),(t.length>w||t.length!==w)&&(0,_.jsx)("button",{type:"button",className:b,onClick:function(){g((function(e){return e+12}))},children:"load more"})]})},T="TweetsPage_colorContainer__4IJcF",S="TweetsPage_container__Tqs0H",k=function(){return(0,_.jsx)("div",{className:T,children:(0,_.jsx)("div",{className:S,children:(0,_.jsx)(N,{})})})}}}]);
//# sourceMappingURL=307.06608218.chunk.js.map