"use strict";(self.webpackChunkupdate_skills=self.webpackChunkupdate_skills||[]).push([[261],{657:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});var r=n(165),a=n(861),s=n(439),c=n(791),i=n(243);i.Z.defaults.baseURL="https://json-server-qp0p.onrender.com/api/";var o=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("/users");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.put("/users/".concat(t.id),t);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=n(683),d=n(477),f=n.n(d),p=n.p+"static/media/card.2cfaf72cf1b8694dd508.png",w=n.p+"static/media/card@2x.545b0e444f5568dade94.png",m={card:"TweetCard_card__XCvhd",img:"TweetCard_img__s3grz",btn:"TweetCard_btn__RyUJa",active:"TweetCard_active__vx05L",imgWrapper:"TweetCard_imgWrapper__8KwP1",ava:"TweetCard_ava__FgFw+",info:"TweetCard_info__CGXmp",folowers:"TweetCard_folowers__c0p7X"},_=n(184),h=function(e){var t,n,r=e.name,a=e.avatar,i=e.followers,o=e.tweets,d=e.currentUser,h=e.updateUsers,g=e.setLoading,v=f()("following_".concat(d.id),!1),x=(0,s.Z)(v,2),j=x[0],Z=x[1],b=(0,c.useRef)(null);return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("li",{className:m.card,children:[(0,_.jsxs)("picture",{children:[(0,_.jsx)("source",{srcSet:w,media:"(min-resolution: 2dppx)"}),(0,_.jsx)("img",{className:m.img,src:p,alt:"card chat"})]}),(0,_.jsxs)("div",{className:m.info,children:[(0,_.jsx)("div",{className:m.imgWrapper,children:(0,_.jsx)("img",{height:"62",width:"62",className:m.ava,src:a,alt:r})}),(0,_.jsxs)("p",{className:m.tweets,children:[(0,_.jsx)("span",{className:m.number,children:o.toLocaleString()})," TWEETS"]}),(0,_.jsxs)("p",{className:m.folowers,children:[(0,_.jsx)("span",{className:m.number,children:(n=i,n.toLocaleString())})," ","FOLLOWERS"]}),(0,_.jsx)("button",{onClick:function(){j||(g(!0),u((0,l.Z)((0,l.Z)({},d),{},{followers:d.followers+1})).then((function(){return h()})).catch((function(e){return console.log(e)})).finally((function(){return g(!1)}))),j&&(g(!0),u((0,l.Z)((0,l.Z)({},d),{},{followers:d.followers-1})).then((function(){return h()})).catch((function(e){return console.log(e)})).finally((function(){return g(!1)}))),Z(!j),b.current.blur()},ref:b,className:(t=j,t?"".concat(m.btn," ").concat(m.active):m.btn),type:"button",children:j?"Following":"Follow"})]})]})})},g=n(831),v="TweetList_list__7RDyA",x="TweetList_btn__7Y3b1",j=function(){var e=(0,c.useState)([]),t=(0,s.Z)(e,2),n=t[0],i=t[1],u=(0,c.useState)(12),l=(0,s.Z)(u,2),d=l[0],f=l[1],p=(0,c.useState)(!1),w=(0,s.Z)(p,2),m=w[0],j=w[1];(0,c.useEffect)((function(){j(!0),o().then((function(e){return i(e)})).catch((function(e){return console.log(e)})).finally((function(){return j(!1)}))}),[]);var Z=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,_.jsxs)(_.Fragment,{children:[m&&(0,_.jsx)(g.Z,{}),(0,_.jsx)("ul",{className:v,children:n.slice(0,d).map((function(e){return(0,_.jsx)(h,{name:e.user,avatar:e.avatar,followers:e.followers,tweets:e.tweets,currentUser:n[e.id-1],updateUsers:Z,loading:m,setLoading:j},e.id)}))}),(n.length>d||n.length!==d)&&(0,_.jsx)("button",{type:"button",className:x,onClick:function(){f((function(e){return e+12}))},children:"load more"})]})},Z="TweetsPage_colorContainer__4IJcF",b="TweetsPage_container__Tqs0H",C=function(){return(0,_.jsx)("div",{className:Z,children:(0,_.jsx)("div",{className:b,children:(0,_.jsx)(j,{})})})}}}]);
//# sourceMappingURL=261.e6935d24.chunk.js.map