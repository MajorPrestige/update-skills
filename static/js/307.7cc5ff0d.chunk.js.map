{"version":3,"file":"static/js/307.7cc5ff0d.chunk.js","mappings":"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","sources":["api/users.js","webpack://update-skills/./src/components/TweetCard/TweetCard.module.scss?487b","components/TweetCard/TweetCard.jsx","webpack://update-skills/./src/components/Select/SelectStatus.module.scss?35ff","components/Select/SelectStatus.jsx","webpack://update-skills/./src/components/TweetList/TweetList.module.scss?6e6b","components/TweetList/TweetList.jsx","webpack://update-skills/./src/pages/TweetsPage/TweetsPage.module.scss?c243","pages/TweetsPage/TweetsPage.jsx"],"sourcesContent":["import axios from 'axios';\n\n// axios.defaults.baseURL = 'http://localhost:4000/api/';\naxios.defaults.baseURL = 'https://json-server-qp0p.onrender.com/api/';\n\nexport const axiosGetUsers = async () => {\n  const { data } = await axios.get('/users');\n  return data;\n};\n\nexport const axiosUpdateFollowers = async (userData) => {\n  const { data } = await axios.put(`/users/${userData.id}`, userData);\n  return data;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"TweetCard_card__XCvhd\",\"img\":\"TweetCard_img__s3grz\",\"btn\":\"TweetCard_btn__RyUJa\",\"active\":\"TweetCard_active__vx05L\",\"imgWrapper\":\"TweetCard_imgWrapper__8KwP1\",\"ava\":\"TweetCard_ava__FgFw+\",\"info\":\"TweetCard_info__CGXmp\",\"tweets\":\"TweetCard_tweets__jFpFn\"};","import { useRef } from 'react';\nimport useLocalStorage from 'use-local-storage';\n\nimport { axiosUpdateFollowers } from 'api/users';\nimport Card from '../../images/card.png';\nimport Card2x from '../../images/card@2x.png';\n\nimport s from './TweetCard.module.scss';\n\nconst toggleClassName = (conditions) => {\n  return conditions ? `${s.btn} ${s.active}` : s.btn;\n};\n\nconst TweetCard = ({\n  name,\n  avatar,\n  followers,\n  tweets,\n  currentUser,\n  updateUsers,\n  setLoading,\n  filter,\n}) => {\n  const [following, setFollowing] = useLocalStorage(\n    `following_${currentUser.id}`,\n    false\n  );\n  const buttonRef = useRef(null);\n\n  const handleFormatingFollowers = (number) => {\n    return number.toLocaleString();\n  };\n\n  const handleBtnClick = () => {\n    if (!following) {\n      setLoading(true);\n      axiosUpdateFollowers({ ...currentUser, followers: currentUser.followers + 1 })\n        .then(() => updateUsers())\n        .catch((err) => console.log(err))\n        .finally(() => setLoading(false));\n    }\n\n    if (following) {\n      setLoading(true);\n      axiosUpdateFollowers({ ...currentUser, followers: currentUser.followers - 1 })\n        .then(() => updateUsers())\n        .catch((err) => console.log(err))\n        .finally(() => setLoading(false));\n    }\n\n    setFollowing(!following);\n    buttonRef.current.blur();\n  };\n\n  const shouldDisplayCard =\n    filter === 'show all' ||\n    (filter === 'follow' && !following) ||\n    (filter === 'followings' && following);\n\n  if (!shouldDisplayCard) {\n    return null;\n  }\n\n  return (\n    <li className={s.card}>\n      <picture>\n        <source srcSet={Card2x} media=\"(min-resolution: 2dppx)\" />\n        <img className={s.img} src={Card} alt=\"card chat\" />\n      </picture>\n      <div className={s.info}>\n        <div className={s.imgWrapper}>\n          <img height=\"62\" width=\"62\" className={s.ava} src={avatar} alt={name} />\n        </div>\n        <p className={s.tweets}>\n          <span className={s.number}>{tweets.toLocaleString()}</span> TWEETS\n        </p>\n        <p className={s.followers}>\n          <span className={s.number}>{handleFormatingFollowers(followers)}</span>{' '}\n          FOLLOWERS\n        </p>\n        <button\n          onClick={handleBtnClick}\n          ref={buttonRef}\n          className={toggleClassName(following)}\n          type=\"button\"\n        >\n          {following ? 'Following' : 'Follow'}\n        </button>\n      </div>\n    </li>\n  );\n};\n\nexport default TweetCard;\n","// extracted by mini-css-extract-plugin\nexport default {\"select\":\"SelectStatus_select__93ZPh\"};","import Select from 'react-select';\n\nimport s from './SelectStatus.module.scss';\n\nconst SelectStatus = ({ handleInputChange, options, value }) => {\n  return (\n    <Select\n      options={options}\n      className={s.select}\n      // defaultValue={options[0]}\n      onChange={handleInputChange}\n      value={value()}\n      // classNamePrefix={'react-select'}\n    />\n  );\n};\n\nexport default SelectStatus;\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"TweetList_list__7RDyA\",\"btn\":\"TweetList_btn__7Y3b1\"};","import { useEffect, useState } from 'react';\n\nimport { axiosGetUsers } from 'api/users';\nimport TweetCard from 'components/TweetCard/TweetCard';\nimport Loader from 'components/Loader/Loader';\nimport SelectStatus from 'components/Select/SelectStatus';\n\nimport s from './TweetList.module.scss';\n\nconst options = [\n  { value: 'show all', label: 'Show all' },\n  { value: 'follow', label: 'Follow' },\n  { value: 'followings', label: 'Followings' },\n];\n\nconst TweetList = () => {\n  const [users, setUsers] = useState([]);\n  const [filter, setFilter] = useState('show all');\n  const [displayedUsers, setDisplayedUsers] = useState(12);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n    axiosGetUsers()\n      .then((data) => setUsers(data))\n      .catch((err) => console.log(err))\n      .finally(() => setLoading(false));\n  }, []);\n\n  const getValue = () => {\n    return filter? options.find(select => select.value === filter) : \"\"\n  }\n\n  const handleInputChange = (newValue) => {\n    setFilter(newValue.value)\n  };\n\n  const updateUsers = async () => {\n    const result = await axiosGetUsers();\n    setUsers(result);\n  };\n\n  const loadMoreUsers = () => {\n    setDisplayedUsers((prevCount) => prevCount + 12);\n  };\n\n  return (\n    <>\n      <SelectStatus handleInputChange={handleInputChange} options={options} value={getValue}/>\n      {loading && <Loader />}\n      <ul className={s.list}>\n        {users.slice(0, displayedUsers).map((user) => (\n          <TweetCard\n            key={user.id}\n            name={user.user}\n            avatar={user.avatar}\n            followers={user.followers}\n            tweets={user.tweets}\n            currentUser={users[user.id - 1]}\n            updateUsers={updateUsers}\n            loading={loading}\n            setLoading={setLoading}\n            filter={filter}\n          />\n        ))}\n      </ul>\n      {(users.length > displayedUsers || users.length !== displayedUsers) && (\n        <button type=\"button\" className={s.btn} onClick={loadMoreUsers}>\n          load more\n        </button>\n      )}\n    </>\n  );\n};\n\nexport default TweetList;\n","// extracted by mini-css-extract-plugin\nexport default {\"colorContainer\":\"TweetsPage_colorContainer__4IJcF\",\"container\":\"TweetsPage_container__Tqs0H\"};","import TweetList from 'components/TweetList/TweetList';\nimport s from './TweetsPage.module.scss';\n\nconst TweetsPage = () => {\n  return (\n    <div className={s.colorContainer}>\n      <div className={s.container}>\n        <TweetList />\n      </div>\n    </div>\n  );\n};\n\nexport default TweetsPage;\n"],"names":["axios","defaults","baseURL","axiosGetUsers","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$get","data","wrap","_context","prev","next","get","sent","abrupt","stop","apply","arguments","axiosUpdateFollowers","_ref2","_callee2","userData","_yield$axios$put","_context2","put","concat","id","_x","conditions","number","name","avatar","followers","tweets","currentUser","updateUsers","setLoading","filter","_useLocalStorage","useLocalStorage","_useLocalStorage2","_slicedToArray","following","setFollowing","buttonRef","useRef","_jsxs","className","s","card","children","_jsx","srcSet","Card2x","media","img","src","Card","alt","info","imgWrapper","height","width","ava","toLocaleString","onClick","_objectSpread","then","catch","err","console","log","finally","current","blur","ref","btn","active","type","handleInputChange","options","value","Select","onChange","label","_useState","useState","_useState2","users","setUsers","_useState3","_useState4","setFilter","_useState5","_useState6","displayedUsers","setDisplayedUsers","_useState7","_useState8","loading","useEffect","result","_Fragment","SelectStatus","newValue","find","select","Loader","slice","map","user","TweetCard","length","prevCount","TweetList"],"sourceRoot":""}